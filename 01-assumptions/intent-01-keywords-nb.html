
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Keywords</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mana.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script>
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Rules for Entities, Rules for Relations" href="intent-02-rules-er-nb.html" />
    <link rel="prev" title="Expressions of Intent" href="intent.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Introduction
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../00-introduction/syllabus.html">
   Syllabus (PPOL 628 Spring 2022)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../00-introduction/intro.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../00-introduction/tools.html">
   First Tools of the Trade
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-introduction/tools-01env.html">
     Setting up a Computing Environment
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-introduction/tools-02ops.html">
     Tools for Data Infrastructure
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../00-introduction/tools-03sci.html">
     Tools for Data Science
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../00-introduction/references.html">
   Chapter Resources
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Assumptions
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="intent.html">
   Expressions of Intent
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     Keywords
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="intent-02-rules-er-nb.html">
     Rules for Entities, Rules for Relations
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="data.html">
   Driving with Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="simple">
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Goals &amp; Approach
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../02-goals-approach/presentation-test-nb.html">
   Testing Presentations
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Measure &amp; Evaluate
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../03-measure-evaluate/notebooks-nb.html">
   Content with notebooks
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Validate
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../04-validation/trouble.html">
   Trouble in Paradise
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Appendix
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../appendix/datasets.html">
   Datasets for this Course
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../appendix/datasets/mtgjson-nb.html">
     MTGJSON
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../appendix/datasets/tiny-shakespeare-nb.html">
     “Tiny” Shakespeare
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="../_sources/01-assumptions/intent-01-keywords-nb.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/01-assumptions/intent-01-keywords-nb.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/TLP-COI/text-data-course"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/TLP-COI/text-data-course/issues/new?title=Issue%20on%20page%20%2F01-assumptions/intent-01-keywords-nb.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/TLP-COI/text-data-course/main?urlpath=tree/content/01-assumptions/intent-01-keywords-nb.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   Keywords
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recap">
     Recap
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sanity-check">
     Sanity-check
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#intro-to-tokenization">
   Intro to Tokenization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-pandas-str">
     Using Pandas’
     <code class="docutils literal notranslate">
      <span class="pre">
       .str
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidy-text">
   Tidy Text
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tidy-data-review">
     Tidy Data Review
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#back-to-tidy-text">
     Back to Tidy
     <em>
      Text
     </em>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#assumption-review">
   Assumption Review
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#words-stopwords">
     Words? Stopwords.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importance-approx-frequency">
     Importance
     <span class="math notranslate nohighlight">
      \(\approx\)
     </span>
     Frequency?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aside-how-many-keywords-in-my-corpus">
   Aside: how many keywords in my corpus?
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Keywords</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   Keywords
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recap">
     Recap
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sanity-check">
     Sanity-check
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#intro-to-tokenization">
   Intro to Tokenization
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#using-pandas-str">
     Using Pandas’
     <code class="docutils literal notranslate">
      <span class="pre">
       .str
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tidy-text">
   Tidy Text
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tidy-data-review">
     Tidy Data Review
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#back-to-tidy-text">
     Back to Tidy
     <em>
      Text
     </em>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#assumption-review">
   Assumption Review
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#words-stopwords">
     Words? Stopwords.
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#importance-approx-frequency">
     Importance
     <span class="math notranslate nohighlight">
      \(\approx\)
     </span>
     Frequency?
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aside-how-many-keywords-in-my-corpus">
   Aside: how many keywords in my corpus?
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="keywords">
<h1>Keywords<a class="headerlink" href="#keywords" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>“Quality Content” and Where to Find It…</p>
</div></blockquote>
<p>The first step toward quantifying <em>something</em> is to ask quantifying questions about it</p>
<blockquote>
<div><p>What? How much? How many? How often?</p>
</div></blockquote>
<p>These questions help form a narrative (what am I interested in?), and <em>sell</em> that narrative (why should I be interested?)</p>
<p>In essence, we are looking for good <em>content</em>, the “stuff” that is useful or interesting from the</p>
<div class="section" id="id1">
<h2>Keywords<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>Let’s grab one of our course datasets: MTGJson, as documented <span class="xref myst">in the appendix</span>. If you’re following along, DVC can grab the data, as well: <code class="docutils literal notranslate"><span class="pre">dvc</span> <span class="pre">import...</span></code></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tlp.data</span> <span class="kn">import</span> <span class="n">DataLoader</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">DataLoader</span><span class="o">.</span><span class="n">mtg</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tlp.data</span> <span class="kn">import</span> <span class="n">mtg</span><span class="p">,</span> <span class="n">styleprops_longtext</span>

<span class="p">(</span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span><span class="s1">&#39;flavor_text&#39;</span><span class="p">]]</span>
 <span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">style</span>
 <span class="o">.</span><span class="n">set_properties</span><span class="p">(</span><span class="o">**</span><span class="n">styleprops_longtext</span><span class="p">([</span><span class="s1">&#39;text&#39;</span><span class="p">,</span><span class="s1">&#39;flavor_text&#39;</span><span class="p">]))</span>
 <span class="o">.</span><span class="n">hide_index</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><em>Flavor text</em> has been a staple of Magic cards for a long time.
A lot of players gravitate to it, even more than the game itself.</p>
<p>There are easter-eggs, long-running gags, and returning characters.
Flavor text is really cool.</p>
<p>That sounds like some interesting “content”…what is its history?</p>
<p>{figure-md} feeling-lost
<img alt="fblthp" src="https://static.wikia.nocookie.net/mtgsalvation_gamepedia/images/c/c4/Fblthp.jpg" /></p>
<p><em>Magic: The Gathering</em> can be a lot to take in, and it’s easy to get lost in all the strange words.
This is why we use it for TLP!
Thankfully, us “lost” folks have a mascot, in old Fblthp, here!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">hvplot.pandas</span>
<span class="p">(</span><span class="n">df</span>
 <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;release_date&#39;</span><span class="p">)</span>
 <span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
 <span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;Y&#39;</span><span class="p">)</span>
 <span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">grp</span><span class="p">:</span> <span class="n">grp</span><span class="o">.</span><span class="n">flavor_text</span><span class="o">.</span><span class="n">notna</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="n">grp</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1">#  .apply(lambda grp: )</span>
<span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span> <span class="n">rot</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;What fraction of cards have Flavor Text each year?&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>There’s a lot of other data avaliable, as well!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mtg</span><span class="o">.</span><span class="n">style_table</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
                        <span class="n">hide_columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">,</span><span class="s1">&#39;flavor_text&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="k">def</span> <span class="nf">value_ct_wordcloud</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span>
    <span class="n">wc</span> <span class="o">=</span> <span class="p">(</span><span class="n">WordCloud</span><span class="p">(</span><span class="n">background_color</span><span class="o">=</span><span class="s2">&quot;white&quot;</span><span class="p">,</span> <span class="n">max_words</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
          <span class="o">.</span><span class="n">generate_from_frequencies</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wc</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s2">&quot;bilinear&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">types</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
 <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">value_ct_wordcloud</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>What “types” of cards are there?
What are the “subtypes” of cards, and how are they differentiate from “types”?</p>
<p>It looks like this magic is quite anthropocentric!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">subtypes</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
 <span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">value_ct_wordcloud</span><span class="p">)</span> 
<span class="p">)</span>
<span class="c1"># df.subtypes.value_counts()</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Keywords</strong></p>
<p>These kinds of comma-separated lists of “content-of interest” are generally called keywords.
Here, we have been <em>told</em> what those keywords are, which is nice!</p>
<p>Question… would we always have been able to find them from the text?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_textual_occurrence</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span>
    <span class="n">key_col</span><span class="o">=</span><span class="s1">&#39;keywords&#39;</span><span class="p">,</span> 
    <span class="n">txt_col</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">,</span>
    <span class="n">pre</span> <span class="o">=</span> <span class="nb">str</span> <span class="c1"># do nothing, make str</span>
<span class="p">):</span> 

    <span class="k">def</span> <span class="nf">keyword_in_txt</span><span class="p">(</span><span class="n">df_row</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="n">pre</span><span class="p">(</span><span class="n">df_row</span><span class="p">[</span><span class="n">key_col</span><span class="p">])</span> 
            <span class="ow">in</span> 
            <span class="n">pre</span><span class="p">(</span><span class="n">df_row</span><span class="p">[</span><span class="n">txt_col</span><span class="p">])</span>
        <span class="p">)</span>

    <span class="k">return</span> <span class="p">(</span>
        <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;text&#39;</span><span class="p">,</span><span class="s1">&#39;keywords&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">explode</span><span class="p">(</span><span class="s1">&#39;keywords&#39;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;keywords&#39;</span><span class="p">])</span>
        <span class="o">.</span><span class="n">assign</span><span class="p">(</span>
            <span class="n">textual</span><span class="o">=</span><span class="k">lambda</span> <span class="n">df</span><span class="p">:</span> 
            <span class="n">df</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">keyword_in_txt</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;keywords&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
        <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;textual&#39;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">40</span><span class="p">)</span>
        <span class="o">.</span><span class="n">hvplot</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Fraction of text containing keyword&#39;</span><span class="p">,</span>
            <span class="n">frame_width</span><span class="o">=</span><span class="mi">250</span><span class="p">,</span> 
            <span class="n">frame_height</span><span class="o">=</span><span class="mi">350</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="n">plot_textual_occurrence</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># wait...let&#39;s lowercase</span>
<span class="n">plot_textual_occurrence</span><span class="p">(</span>
    <span class="n">df</span><span class="p">,</span> <span class="n">pre</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="recap">
<h3>Recap<a class="headerlink" href="#recap" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Content in a document can occur in or alongside the text itself.</p></li>
<li><p>Keywords are individual markers of useful content, often comma-separated</p></li>
<li><p>Often you need to “tidy up” keyword lists with <code class="docutils literal notranslate"><span class="pre">df.explode('my_keyword_column)</span></code></p></li>
<li><p>Keywords can be supplied a priori (by experts, etc.) Use them!</p></li>
<li><p>Supplied keywords have become divorced from the text… do they match?</p></li>
</ul>
</div>
<div class="section" id="sanity-check">
<h3>Sanity-check<a class="headerlink" href="#sanity-check" title="Permalink to this headline">¶</a></h3>
<p>So:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">interesting</span> <span class="pre">content</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">frequent</span> <span class="pre">content</span></code></p>
<p><span class="math notranslate nohighlight">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">frequent</span> <span class="pre">keywords</span></code></p>
</li>
</ul>
<p><em>What assumption(s) did we make just then?</em></p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">interesting</span> <span class="pre">content</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">frequent</span> <span class="pre">content</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">frequent</span> <span class="pre">key</span></code><strong><code class="docutils literal notranslate"><span class="pre">words</span></code></strong></p></li>
</ul>
</div></blockquote>
<p><em>What are <strong>words</strong>?</em></p>
<p>We are <em>assuming</em> that a “fundamental unit” of interesting content is a “word”.
Remember, though, that a “word” is not a known concept to the computer… all it knows are “strings”</p>
<p>Individual characters, or even slices of strings (i.e. <em>substrings</em>) don’t have any specific meaning to us as concepts (directly).
This means there is a fundamental disconnect (and, therefore, a need for <em>translation</em>) between strings and words, to allow the assumption above to <em>work</em> in the first place.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">coconut</span>
def substrings(size) = 
    &quot;&quot;&quot;return a function that splits stuff into &#39;size&#39;-chunks and prints as list&quot;&quot;&quot;
    groupsof$(size)..&gt; map$(&#39;&#39;.join) ..&gt; list ..&gt; print

my_str = &quot;The quick brown fox&quot;
my_str |&gt; substrings(3)
my_str |&gt; substrings(4)
my_str |&gt; substrings(5)
</pre></div>
</div>
</div>
</div>
<p>Only some of these would make sense as “words”, and that’s only if we do some post-processing in our minds (e.g. <code class="docutils literal notranslate"><span class="pre">own</span></code> could be a word, but is that the same as <code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">]own</span></code>?</p>
<p>How do we:</p>
<ul class="simple">
<li><p>formalize turning strings into the these concept-compatible “word” objects?</p></li>
<li><p>Apply this to our text, so we know the concepts available to us?</p></li>
</ul>
</div>
</div>
<div class="section" id="intro-to-tokenization">
<h2>Intro to Tokenization<a class="headerlink" href="#intro-to-tokenization" title="Permalink to this headline">¶</a></h2>
<p>Preferably, we want to replace the <code class="docutils literal notranslate"><span class="pre">substrings</span></code> function with something that looked like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">substr</span><span class="p">(</span><span class="n">my_str</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="s1">&#39;The&#39;</span><span class="p">,</span> <span class="s1">&#39;quick&#39;</span><span class="p">,</span> <span class="s1">&#39;brown&#39;</span><span class="p">,</span> <span class="s1">&#39;fox&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>In text-processing, we have names for these <em>units of text</em> that communicate a single concept: <strong>tokens</strong>.
The process of breaking strings of text into tokens is called <em>tokenization</em>.</p>
<p>There’s actually a few <em>special words</em> we use in text analysis to refer to meaningful parts of our text, so let’s go ahead and define them (<span id="id2">[]</span>):</p>
<dl class="simple myst">
<dt><strong>corpus</strong></dt><dd><p>the set of all text we are processing</p>
<blockquote>
<div><p><em>e.g. the text from entire MTGJSON dataset is our corpus</em></p>
</div></blockquote>
</dd>
<dt><strong>document</strong></dt><dd><p>a unit of text forming an “observation” that we can e.g. compare to others</p>
<blockquote>
<div><p>e.g. each card in MTGJSON is a “document” containing a couple sections of text</p>
</div></blockquote>
</dd>
</dl>
<dl class="simple myst">
<dt><strong>token</strong></dt><dd><p>a piece of text that stands for a word.</p>
<blockquote>
<div><p>the flavor-text for <code class="docutils literal notranslate"><span class="pre">Mardu</span> <span class="pre">Hateblade</span></code>: has 15 tokens, excluding punctuation:</p>
<p><em>“There may be little honor in my tactics, but there is no honor in losing.”</em></p>
</div></blockquote>
</dd>
<dt><strong>types</strong></dt><dd><p>unique words in the vocabulary</p>
<blockquote>
<div><p>For the same card above, there are 15 tokens, but only 13 types (<code class="docutils literal notranslate"><span class="pre">there</span></code>x2, <code class="docutils literal notranslate"><span class="pre">honor</span></code> x2, <code class="docutils literal notranslate"><span class="pre">in</span></code> x2)</p>
</div></blockquote>
</dd>
</dl>
<div class="section" id="using-pandas-str">
<h3>Using Pandas’ <code class="docutils literal notranslate"><span class="pre">.str</span></code><a class="headerlink" href="#using-pandas-str" title="Permalink to this headline">¶</a></h3>
<p>There are a number of <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/text.html">very helpful tools</a> in the pandas <code class="docutils literal notranslate"><span class="pre">.str</span></code> namespace of the <code class="docutils literal notranslate"><span class="pre">Series</span></code> object. We can return to our card example from before:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">card</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">fullmatch</span><span class="p">(</span><span class="s1">&#39;Mardu Hateblade&#39;</span><span class="p">)]</span>
<span class="n">flav</span> <span class="o">=</span> <span class="n">card</span><span class="o">.</span><span class="n">flavor_text</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">card</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">values</span><span class="si">}</span><span class="s1">:</span><span class="se">\n\t</span><span class="s1"> </span><span class="si">{</span><span class="n">flav</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="c1"># df.iloc[51411].flavor_text</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">flav</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>  <span class="c1"># upper-case</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">flav</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span>  <span class="c1"># how long is the string?</span>
</pre></div>
</div>
</div>
</div>
<p><strong>verify</strong>: the number of tokens and types</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Should be able to split by the spaces...</span>
<span class="nb">print</span><span class="p">(</span><span class="n">flav</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">),</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;no. tokens: &quot;</span><span class="p">,</span> <span class="n">flav</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;no. types: &quot;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">flav</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">)</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>
</pre></div>
</div>
</div>
</div>
<p>wait a minute…</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">flav</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">()</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>This isn’t right!</p>
<p>We probably want to split on anything that’s not “letters”:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">flav</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;[^A-Za-z]&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">explode</span><span class="p">()</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Much better!</p>
<p>So what is this devilry? This <code class="docutils literal notranslate"><span class="pre">[^A-Za-z]</span></code> is a pattern — a <em>regular expression</em> — for “things that are <em>not</em> alphabetical characters in upper or lower-case”. Powerful, right? We’ll cover this in more detail in the next section.</p>
<p>In the meantime, let’s take a look again at this workflow pattern:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">tokenize</span></code> <span class="math notranslate nohighlight">\(\rightarrow\)</span> <code class="docutils literal notranslate"><span class="pre">explode</span></code></p>
</div></blockquote>
</div>
</div>
<div class="section" id="tidy-text">
<h2>Tidy Text<a class="headerlink" href="#tidy-text" title="Permalink to this headline">¶</a></h2>
<p><em>but first</em>…</p>
<div class="section" id="tidy-data-review">
<h3>Tidy Data Review<a class="headerlink" href="#tidy-data-review" title="Permalink to this headline">¶</a></h3>
<p>Let’s review an incredibly powerful idea from the R community: using <em>tidy data</em>.</p>
<p>Tidy data is a <em>paradigm</em> to frame your tabular data representation in a <em>consistent</em> and <em>ergonomic</em> way that supports rapid manipulation, visualization, and cleaning. Imagine we had this non-text dataset (from Hadley Wickham’s paper <em>Tidy Data</em>):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_untidy</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;John Smith&#39;</span><span class="p">,</span> <span class="s1">&#39;Jane Doe&#39;</span><span class="p">,</span> <span class="s1">&#39;Mary Johnson&#39;</span><span class="p">]),</span> 
             <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;treatment_a&#39;</span><span class="p">:[</span><span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;treatment_b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="p">]})</span>
<span class="n">df_untidy</span>
</pre></div>
</div>
</div>
</div>
<p>We could also represent it another way:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_untidy</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
</div>
<p>I’m sure these might be equally likely to see in someone’s excel sheet, entering this data. But, say we want to visualize this table? Or start comparing each of the cases? This is going to take a lot of manipulation every time we want a different thing.</p>
<p>For data to be <em>Tidy Data</em>, we need 3 things:</p>
<blockquote>
<div><ol class="simple">
<li><p>Each variable forms a column.</p></li>
<li><p>Each observation forms a row.</p></li>
<li><p>Each type of observational unit forms a table.</p></li>
</ol>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_tidy</span> <span class="o">=</span> <span class="n">df_untidy</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span>
<span class="n">df_tidy</span>
</pre></div>
</div>
</div>
</div>
<p>Suddenly things like comparing, plotting, and counting become trivial with simple table operations.</p>
<blockquote>
<div><p>But doesn’t this waste table space? It’s so much less compact!</p>
</div></blockquote>
<p>That’s excel talking! The “wasted space” is incredibly negligible at this scale, compared to the ergonomic benefit of representing your data <strong>long-form</strong>, with one-observation-per-row. Now you get exactly one column for every variable, and one row for every point of data, making your manipulations much cleaner.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">catplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_tidy</span><span class="p">,</span> 
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> 
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;name&#39;</span><span class="p">,</span> 
    <span class="n">hue</span><span class="o">=</span><span class="s1">&#39;variable&#39;</span><span class="p">,</span> <span class="c1"># try commenting/changing to &#39;col&#39;!</span>
    <span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="back-to-tidy-text">
<h3>Back to Tidy <em>Text</em><a class="headerlink" href="#back-to-tidy-text" title="Permalink to this headline">¶</a></h3>
<p>So, hang on, aren’t <em>documents</em> our observational-level? Wouldn’t that make e.g. the MTGJSON dataset <em>already “tidy”</em>??</p>
<p>Yes!</p>
<p>But only if we are observing <em>cards</em>, which, for things like release date or mana cost, maybe that’s true.</p>
<p>Instead, we are trying to find (observe) the occurrences of “interesting content”, which we broke down into <em>tokens</em>.</p>
<blockquote>
<div><p><em>We thus define the tidy text format as being a table with one-token-per-row.</em>
<em>A token is a meaningful unit of text, such as a word, that we are interested in using for analysis, and tokenization is the process of splitting text into tokens.</em>
<em>This one-token-per-row structure is in contrast to the ways text is often stored in current analyses, perhaps as strings or in a document-term matrix.</em></p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">coconut</span>
import nltk
import janitor as pj
nltk.download(&#39;punkt&#39;)

tidy_df = (
    df
    .add_column(&#39;word&#39;, wordlists)
    .also(df -&gt; print(df.word.head(10)))
    .explode(&#39;word&#39;)
    .rename_axis(&#39;card_id&#39;)
    .reset_index()
) where: 
    wordlists = (
        df.flavor_text
        .fillna(&#39;&#39;)
        .str.lower()
        .apply(nltk.tokenize.word_tokenize)
    )
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tidy_df</span><span class="o">.</span><span class="n">word</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="assumption-review">
<h2>Assumption Review<a class="headerlink" href="#assumption-review" title="Permalink to this headline">¶</a></h2>
<div class="section" id="words-stopwords">
<h3>Words? Stopwords.<a class="headerlink" href="#words-stopwords" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The “anti-keyword”</p>
</div></blockquote>
<p>Stuff that we say, <em>a priori</em> is uninteresting. Usually articles, pasive being verbs, etc.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;stopwords&#39;</span><span class="p">)</span>
<span class="n">stopwords</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p><strong>NB</strong></p>
<p>Discussion: stopwords are <em>very</em> context-sensitive decisions.</p>
<ul class="simple">
<li><p>Can you think of times when these are <em>not</em> good stop words?</p></li>
<li><p>When would these terms actually imply interesting “content”?</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">tidy_df</span>
 <span class="o">.</span><span class="n">filter_column_isin</span><span class="p">(</span>
     <span class="s1">&#39;word&#39;</span><span class="p">,</span>
     <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">),</span> 
     <span class="n">complement</span><span class="o">=</span><span class="kc">True</span> <span class="c1"># so, NOT IN</span>
 <span class="p">)</span>
 <span class="o">.</span><span class="n">word</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This seems to have worked <em>ok</em>.</p>
<p>Now we can see some interesting “content” in terms like “life”, “death”, “world”, “time”, “power”, etc.</p>
<blockquote>
<div><p>What might we learn from these keywords? What else could we do to investigate them?</p>
</div></blockquote>
</div>
<div class="section" id="importance-approx-frequency">
<h3>Importance <span class="math notranslate nohighlight">\(\approx\)</span> Frequency?<a class="headerlink" href="#importance-approx-frequency" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">coconut</span> 
keywords = (
    tidy_df
    .assign(**{
        &#39;year&#39;: df -&gt; df.release_date.dt.year,
        &#39;yearly_cnts&#39;: df -&gt; df.groupby([&#39;year&#39;, &#39;word&#39;]).word.transform(&#39;count&#39;),
        &#39;yearly_frac&#39;: df -&gt; df.groupby(&#39;year&#39;).yearly_cnts.transform(grp-&gt;grp/grp.count().sum())
    })
    .filter_column_isin(
        &#39;word&#39;, 
        [&#39;life&#39;, &#39;death&#39;]
#         [&#39;fire&#39;, &#39;water&#39;]
    )
)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">keywords</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;yearly_cnts&#39;</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">lineplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">keywords</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;yearly_frac&#39;</span><span class="p">,</span><span class="n">hue</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Lessons</strong>:</p>
<ul class="simple">
<li><p>Frequency can have <em>many</em> causes, few of which correlate to underlying “importance”</p></li>
<li><p>Starting to measure importance? <em>relative</em> comparisons, ranked.</p></li>
</ul>
<p>This get’s us part of the way toward information-theoretic measures, and other common weighting schemes. More to come in the <span class="xref myst">Measure &amp; Evaluate</span> chapter.</p>
</div>
</div>
<div class="section" id="aside-how-many-keywords-in-my-corpus">
<h2>Aside: how many keywords in my corpus?<a class="headerlink" href="#aside-how-many-keywords-in-my-corpus" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="simple myst">
<dt><strong>token</strong></dt><dd><p>a piece of text that stands for a word.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple myst">
<dt><strong>types</strong></dt><dd><p>unique words in the vocabulary</p>
</dd>
</dl>
</div></blockquote>
<p>So:</p>
<ul class="simple">
<li><p>num. types is the size of the vocabulary <span class="math notranslate nohighlight">\(\|V\|\)</span></p></li>
<li><p>num. tokens is the size of the corpus <span class="math notranslate nohighlight">\(\|N\|\)</span></p></li>
</ul>
<p>Heap’s Law:
$<span class="math notranslate nohighlight">\( \|V\| = k\|N\|^\beta\)</span>$</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tidy_df.groupby([&#39;card_id&#39;]).word.agg([&#39;cumcount&#39;, lambda s: (~s.duplicated()).cumsum()])</span>
<span class="c1"># (~tidy_df.word.duplicated()).cumsum()</span>
<span class="n">tidy_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;card_id&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">word</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">rand</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">sample_docs</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">id_col</span><span class="o">=</span><span class="s1">&#39;card_id&#39;</span><span class="p">,</span> <span class="n">shuffles</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">rng</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()):</span>
    <span class="n">samps</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">shuffles</span><span class="p">):</span>
        <span class="n">shuff</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">shuffle</span><span class="p">()</span>
        <span class="n">samps</span><span class="o">+=</span><span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
            <span class="s1">&#39;N&#39;</span><span class="p">:</span> <span class="n">shuff</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">id_col</span><span class="p">)</span><span class="o">.</span><span class="n">word</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(),</span> 
            <span class="s1">&#39;V&#39;</span><span class="p">:</span> <span class="p">(</span><span class="o">~</span><span class="n">shuff</span><span class="o">.</span><span class="n">word</span><span class="o">.</span><span class="n">duplicated</span><span class="p">())</span><span class="o">.</span><span class="n">cumsum</span><span class="p">()</span>
        <span class="p">})]</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">samps</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;N&gt;=100&#39;</span><span class="p">)</span>

<span class="n">heaps</span> <span class="o">=</span> <span class="n">sample_docs</span><span class="p">(</span><span class="n">tidy_df</span><span class="p">)</span>
<span class="n">heaps</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">curve_fit</span>
<span class="k">def</span> <span class="nf">heaps_law</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">beta</span><span class="p">):</span> 
    <span class="k">return</span> <span class="n">k</span><span class="o">*</span><span class="n">n</span><span class="o">**</span><span class="n">beta</span>

<span class="k">def</span> <span class="nf">fit_heaps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">linearize</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">linearize</span><span class="p">:</span>
        <span class="n">params</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">curve_fit</span><span class="p">(</span>
            <span class="n">heaps_law</span><span class="p">,</span>
            <span class="n">data</span><span class="o">.</span><span class="n">N</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> 
            <span class="n">data</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">values</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="n">log_data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">params</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">curve_fit</span><span class="p">(</span>
            <span class="k">lambda</span> <span class="n">log_n</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="n">beta</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="n">beta</span><span class="o">*</span><span class="n">log_n</span><span class="p">,</span>
            <span class="n">log_data</span><span class="o">.</span><span class="n">N</span><span class="o">.</span><span class="n">values</span><span class="p">,</span>
            <span class="n">log_data</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">values</span>
        <span class="p">)</span>
    <span class="k">return</span> <span class="n">params</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_heaps_law</span><span class="p">(</span><span class="n">heaps</span><span class="p">,</span> <span class="n">log_scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linearize</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">params</span> <span class="o">=</span> <span class="n">fit_heaps</span><span class="p">(</span><span class="n">heaps</span><span class="p">,</span> <span class="n">linearize</span><span class="o">=</span><span class="n">linearize</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;fit: k=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="se">\t</span><span class="s1">β=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="se">\t</span><span class="s1">linear-fit=</span><span class="si">{</span><span class="n">linearize</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    
    <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mf">6e5</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">heaps</span><span class="o">.</span><span class="n">N</span><span class="p">,</span> <span class="n">heaps</span><span class="o">.</span><span class="n">V</span><span class="p">,</span> <span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
        <span class="n">x</span><span class="p">,</span> 
        <span class="n">heaps_law</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span> 
        <span class="n">color</span><span class="o">=</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;Heaps</span><span class="se">\&#39;</span><span class="s1"> (β=</span><span class="si">{</span><span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1">)&#39;</span>
    <span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">fill_between</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> 
                     <span class="n">heaps_law</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.67</span><span class="p">),</span>
                     <span class="n">heaps_law</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mf">0.75</span><span class="p">),</span>
                    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.2</span><span class="p">,</span> 
                    <span class="n">label</span><span class="o">=</span><span class="s1">&#39;typical-range&#39;</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">heaps</span><span class="o">.</span><span class="n">V</span><span class="o">.</span><span class="n">max</span><span class="p">()</span><span class="o">+</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">ls</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;sqrt&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">log_scale</span><span class="p">:</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">xscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plot_heaps_law</span><span class="p">(</span><span class="n">heaps</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>So, our data grows in <em>complexity</em> a lot faster than the square-root of it’s size, but slower than “typical” text.</p>
<p>Most data-sets in NLP are between 0.67-0.75, so we</p>
<ul class="simple">
<li><p>get a lot of complexity early on, but …</p></li>
<li><p>there’s not such an extended amout of “new concepts” to find, after a while.</p></li>
</ul>
<blockquote>
<div><p>Pretty typical of “technical”, or, <em>synthetic</em> and domain-centric language. Lot’s of variety <em>initially</em>, but limited in scope compared to casual speech.</p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_heaps_law</span><span class="p">(</span><span class="n">heaps</span><span class="p">,</span> <span class="n">log_scale</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_heaps_law</span><span class="p">(</span><span class="n">heaps</span><span class="p">,</span> <span class="n">log_scale</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> 
               <span class="n">linearize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_heaps_law</span><span class="p">(</span><span class="n">heaps</span><span class="p">,</span> <span class="n">log_scale</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">linearize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./01-assumptions"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="intent.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Expressions of Intent</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="intent-02-rules-er-nb.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Rules for Entities, Rules for Relations</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Thurston Sexton<br/>
    
        &copy; Copyright 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>